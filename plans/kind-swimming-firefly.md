# AI食物卡路里分析应用 - 实施计划

## 产品概述

**应用名称:** NutriScan 食光识卡

**核心功能:** 拍照/上传食物图片 → AI智能识别 → 显示卡路里和营养成分

**用户价值:** 让健康饮食更简单，拍照即知卡路里

---

## 产品功能

### 🎯 核心功能模块

1. **图片上传区**
   - 拖拽上传食物图片
   - 点击选择本地图片
   - 移动端支持相机拍照
   - 图片预览与重新选择

2. **AI智能分析**
   - 识别图片中的多种食物
   - 估算每种食物的份量
   - 计算卡路里和营养成分

3. **结果展示面板**
   - 总卡路里数值（大字突出显示）
   - 食物列表卡片
   - 营养分布环形图（蛋白质/碳水/脂肪）
   - 健康饮食建议

4. **历史记录**
   - 本地存储分析记录
   - 侧边抽屉查看历史
   - 支持删除记录

---

## 设计方案

### 🎨 视觉风格
- **主题:** 清新健康风格
- **主色:** 活力绿 (#22c55e) - 传达健康、自然
- **强调色:** 活力橙 (#f97316) - 用于卡路里高亮
- **背景:** 温暖米白色 - 舒适柔和

### 📱 响应式设计
- 移动端：单列布局，底部操作按钮
- 桌面端：左侧图片，右侧结果面板

### ✨ 动画效果
- 页面淡入过渡
- 食物卡片交错弹入
- 卡路里数字滚动动画
- 分析中扫描线效果

---

## 实施步骤

### Step 1: 设计系统配置
- 更新 `index.css` 添加健康主题色彩变量
- 更新 `tailwind.config.ts` 添加自定义动画

### Step 2: 启用AI后端
- 使用 `supabase-integration` skill 启用云服务
- 使用 `ai-integration` skill 创建食物分析函数

### Step 3: 核心组件开发
- ImageUploadZone - 图片上传区组件
- AnalysisResults - 分析结果展示组件
- FoodItemCard - 食物卡片组件
- NutritionChart - 营养分布图组件

### Step 4: 页面整合
- 重构 Index.tsx 主页面
- 集成所有功能组件
- 添加状态管理

### Step 5: 体验完善
- 添加历史记录功能
- 添加动画效果
- 响应式适配优化

---

## 关键文件

| 文件 | 用途 |
|------|------|
| `/app/src/index.css` | 设计系统配置 |
| `/app/src/pages/Index.tsx` | 主页面 |
| `/app/src/components/upload/ImageUploadZone.tsx` | 上传组件 |
| `/app/src/components/analysis/AnalysisResults.tsx` | 结果展示 |
| `/app/src/hooks/use-food-analysis.ts` | AI分析Hook |
| `/app/src/stores/app-store.ts` | 状态管理 |
| `supabase/functions/analyze-food/index.ts` | AI分析函数 |

---

## 验证方案

1. 上传一张食物图片，验证图片预览正常
2. 点击分析按钮，验证加载状态显示
3. 确认AI返回正确的食物识别结果和营养数据
4. 检查结果页面布局和动画效果
5. 测试移动端响应式布局
6. 验证历史记录保存和读取功能
